---
version: "2.2"

services:

  hbase:
    image: harisekhon/hbase:1.4
    ports:
      - 9090:9090
      - 9095:9095
      - 2181:2181
      - 16201:16201
    container_name: hbase

  aws-s3:
    image: localstack/localstack:latest
    ports:
      - '4563-4584:4563-4584'
      - '8055:8080'
    container_name: aws-s3
    environment:
      - SERVICES=s3

#  s3-provision:
#    image: s3-bucket-provision
#    build: ./docker/s3
#    container_name: s3-provision
#    depends_on:
#      - aws-s3

  metadatastore:
    image: mysql:5.7
    ports:
      - "3306:3306"
    restart: always
    container_name: metadatastore
    environment:
      MYSQL_ROOT_PASSWORD: "password"
      MYSQL_DATABASE: "metadatastore"
      MYSQL_USER: "k2hbwriter"
      MYSQL_PASSWORD: "password"
